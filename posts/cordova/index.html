<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Cordova" /><meta property="og:locale" content="en" /><meta name="description" content="前记 受到开源工程Thunder Scope的启示，他使用了electron作为用户程序界面，进而在知乎找到了一份关于界面开发的讨论：https://www.zhihu.com/question/264999651 个人总结就是：WPF适合目前Win桌面开发，嵌入式用Qt，Web前端就是Html5+JS。 而electron可以应对一些基础的应用，一般编译出来的程序体积较大及效率较低，主要面向前端开发者，深入定制对开发者要求较高。（我自己一直也这么认为的，所以一看到‘Thunder Scope’使用，我非常惊讶。但他代表了一种趋势，记得大概8年前我第一次接触Qt，发现这玩意编译出来的程序体积及内存占用远比我最初用的MFC高，当时就果断放弃了继续使用，一直用MFC，导致我做的界面总是好像上个世纪的产品，并且开发效率极低。而Qt这么多年的改进，明显感觉效率几经很高了，而且还是跨平台方案。只要该技术还在持续更新，那我觉得这些弊端是会得到改善的，只是现阶段我的评价还是暂时难堪大任。） 并没有发现桌面、Web、APP一体化的方案，实际上三种面对的终端界面存在一些差异，手机屏幕及操作方式和电脑是有些区别的。都需要做相应适配。 其实，我想寻找的是一种可以快速高效开发界面应用的环境，并且希望可以部署到不同平台。因为在现实的环境中我们确实需要一些简单的UI界面去帮助我们处理日常的工作，同时并不希望为此付出太多的时间。前段时间用excel做了一个界面：（如果不是逼上梁山，你是不会想到去用excel做自动化界面的，虽然功能捡漏，但却实现效率较高，类似的界面用MFC是不可想象的） 目前还是首选Qt和Html5(WebGL 与 canvas2D)；Java不太会，一直走的是C/C++路线。 关于WebGL 新安装的Qt7多了一个webassembly技术，web应用真是大行其道。 无论是那种技术，只是实现方式不同，对于程序本身而言核心都是一致的，只要达到目的就行。 我们知道electron可以将web转为桌面应用，那么这次接触到一个新的技术：CORDOVA CORDOVA 以下是Cordova的编译android的测试流程：其间也是道路坎坷 Cordova:可以将wed应用编译为安卓或IOS应用 本机环境 win10 64 x86 cordova -v 11.0.0 需要安装node.js: NPM 使用介绍:NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 #npm 的包安装分为本地安装（local）、全局安装（global）两种，从敲的命令行来看，差别只是有没有-g而已，比如 npm install express # 本地安装 npm install express -g # 全局安装 # npm install -g cordova / cnpm install -g cordova npm install -g cordova --registry=https://registry.npm.taobao.org #cnpm install -g cordova@8.1.2 // 安装指定版本 #新建一个 cordova 应用 cordova create learn-cordova cordova platform add android --save #cordova platform add ios --save cordova platform add browser --save cd learn-cordova cordova platform cordova run browser JDK:已安装 Android SDK 手动安装Android Studio: 注意SDK Manager路径如下： Could not find an installed version of Gradle either in Android Studio 环境变量设置 cd learn-cordova set ANDROID_SDK_ROOT=C:\Users\will\AppData\Local\Android\Sdk set PATH=%PATH%;C:\Users\will\AppData\Local\Android\Sdk\platform-tools set PATH=%PATH%;C:\Users\will\.gradle\wrapper\dists\gradle-7.1.1-all\1wqbeia0d49252rmlcr6o8lbl\gradle-7.1.1\bin cordova run android 软件只会提示指定’ANDROID_SDK_ROOT’变量的路径，另外两个也需要添加。 一开始提示gradle找不到，手动下载了一个，但实际Android Studio安装的时候一般默认已经安装了对应的版本，路径在’C:\Users\will.gradle&#39;，只要将环境变量设置上即可。 本身安装Android Studio是没有tools路径的，由于自己安装了Qt7，在Qt7环境配置安卓kit时也需要指定SDK路径，Qt7会在SDK目录产生一个tools的路径。 kotlin-compiler-embeddable kotlin-compiler-embeddable-1.5.21.jar 提示‘Can not Get ‘http….’’ 尽管使用了代理，但仍然很慢，下载失败。该文件需要手动下载去覆盖到对应的目录”C:\Users\will.gradle\caches\modules-2\files-2.1\org.jetbrains.kotlin\kotlin-compiler-embeddable\1.5.21\b7d083256154ce255baa44547e3156505e18d29a” kotlin compiler embeddable下载慢 No installed build tools found. Install the Android build tools version 30.0.3 or higher. No installed build tools found. Install the Android build tools version 30.0 Script ‘G:\prjs\web\cordova\learn-cordova\platforms\android\CordovaLib\cordova.gradle’ line: 69 直接找到上面的文件以及对应行，手动指定了一个版本值，一定是你当前版本值加一。 关于这个问题官方的论坛：https://github.com/apache/cordova-android/issues/1391 找不到dx.bat和dx.jar 这里我是手动将相应目录原来名字叫d8.bat/d8.jar直接改成了dx.bat/dx.jar。就是死马当活马医，没想到改过来之后竟然可以。 至此环境就配置ok了， 那我们找个html5的应用试下： 将找到的html5应用拷到www文件夹下，将原来的删除或覆盖，重新执行： 1 2 cd learn-cordova cordova run android END 真是夸张，Sdk竟然耗费了我10个G空间，gradle耗费1.4G(后面还有增加的可能)，C盘已经快满了。又是不务正业的一篇。" /><meta property="og:description" content="前记 受到开源工程Thunder Scope的启示，他使用了electron作为用户程序界面，进而在知乎找到了一份关于界面开发的讨论：https://www.zhihu.com/question/264999651 个人总结就是：WPF适合目前Win桌面开发，嵌入式用Qt，Web前端就是Html5+JS。 而electron可以应对一些基础的应用，一般编译出来的程序体积较大及效率较低，主要面向前端开发者，深入定制对开发者要求较高。（我自己一直也这么认为的，所以一看到‘Thunder Scope’使用，我非常惊讶。但他代表了一种趋势，记得大概8年前我第一次接触Qt，发现这玩意编译出来的程序体积及内存占用远比我最初用的MFC高，当时就果断放弃了继续使用，一直用MFC，导致我做的界面总是好像上个世纪的产品，并且开发效率极低。而Qt这么多年的改进，明显感觉效率几经很高了，而且还是跨平台方案。只要该技术还在持续更新，那我觉得这些弊端是会得到改善的，只是现阶段我的评价还是暂时难堪大任。） 并没有发现桌面、Web、APP一体化的方案，实际上三种面对的终端界面存在一些差异，手机屏幕及操作方式和电脑是有些区别的。都需要做相应适配。 其实，我想寻找的是一种可以快速高效开发界面应用的环境，并且希望可以部署到不同平台。因为在现实的环境中我们确实需要一些简单的UI界面去帮助我们处理日常的工作，同时并不希望为此付出太多的时间。前段时间用excel做了一个界面：（如果不是逼上梁山，你是不会想到去用excel做自动化界面的，虽然功能捡漏，但却实现效率较高，类似的界面用MFC是不可想象的） 目前还是首选Qt和Html5(WebGL 与 canvas2D)；Java不太会，一直走的是C/C++路线。 关于WebGL 新安装的Qt7多了一个webassembly技术，web应用真是大行其道。 无论是那种技术，只是实现方式不同，对于程序本身而言核心都是一致的，只要达到目的就行。 我们知道electron可以将web转为桌面应用，那么这次接触到一个新的技术：CORDOVA CORDOVA 以下是Cordova的编译android的测试流程：其间也是道路坎坷 Cordova:可以将wed应用编译为安卓或IOS应用 本机环境 win10 64 x86 cordova -v 11.0.0 需要安装node.js: NPM 使用介绍:NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 #npm 的包安装分为本地安装（local）、全局安装（global）两种，从敲的命令行来看，差别只是有没有-g而已，比如 npm install express # 本地安装 npm install express -g # 全局安装 # npm install -g cordova / cnpm install -g cordova npm install -g cordova --registry=https://registry.npm.taobao.org #cnpm install -g cordova@8.1.2 // 安装指定版本 #新建一个 cordova 应用 cordova create learn-cordova cordova platform add android --save #cordova platform add ios --save cordova platform add browser --save cd learn-cordova cordova platform cordova run browser JDK:已安装 Android SDK 手动安装Android Studio: 注意SDK Manager路径如下： Could not find an installed version of Gradle either in Android Studio 环境变量设置 cd learn-cordova set ANDROID_SDK_ROOT=C:\Users\will\AppData\Local\Android\Sdk set PATH=%PATH%;C:\Users\will\AppData\Local\Android\Sdk\platform-tools set PATH=%PATH%;C:\Users\will\.gradle\wrapper\dists\gradle-7.1.1-all\1wqbeia0d49252rmlcr6o8lbl\gradle-7.1.1\bin cordova run android 软件只会提示指定’ANDROID_SDK_ROOT’变量的路径，另外两个也需要添加。 一开始提示gradle找不到，手动下载了一个，但实际Android Studio安装的时候一般默认已经安装了对应的版本，路径在’C:\Users\will.gradle&#39;，只要将环境变量设置上即可。 本身安装Android Studio是没有tools路径的，由于自己安装了Qt7，在Qt7环境配置安卓kit时也需要指定SDK路径，Qt7会在SDK目录产生一个tools的路径。 kotlin-compiler-embeddable kotlin-compiler-embeddable-1.5.21.jar 提示‘Can not Get ‘http….’’ 尽管使用了代理，但仍然很慢，下载失败。该文件需要手动下载去覆盖到对应的目录”C:\Users\will.gradle\caches\modules-2\files-2.1\org.jetbrains.kotlin\kotlin-compiler-embeddable\1.5.21\b7d083256154ce255baa44547e3156505e18d29a” kotlin compiler embeddable下载慢 No installed build tools found. Install the Android build tools version 30.0.3 or higher. No installed build tools found. Install the Android build tools version 30.0 Script ‘G:\prjs\web\cordova\learn-cordova\platforms\android\CordovaLib\cordova.gradle’ line: 69 直接找到上面的文件以及对应行，手动指定了一个版本值，一定是你当前版本值加一。 关于这个问题官方的论坛：https://github.com/apache/cordova-android/issues/1391 找不到dx.bat和dx.jar 这里我是手动将相应目录原来名字叫d8.bat/d8.jar直接改成了dx.bat/dx.jar。就是死马当活马医，没想到改过来之后竟然可以。 至此环境就配置ok了， 那我们找个html5的应用试下： 将找到的html5应用拷到www文件夹下，将原来的删除或覆盖，重新执行： 1 2 cd learn-cordova cordova run android END 真是夸张，Sdk竟然耗费了我10个G空间，gradle耗费1.4G(后面还有增加的可能)，C盘已经快满了。又是不务正业的一篇。" /><link rel="canonical" href="https://timewh.github.io/posts/cordova/" /><meta property="og:url" content="https://timewh.github.io/posts/cordova/" /><meta property="og:site_name" content="TIME WH" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-31T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Cordova" /><meta name="twitter:site" content="@will75575009" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-31T00:00:00+08:00","datePublished":"2022-03-31T00:00:00+08:00","description":"前记 受到开源工程Thunder Scope的启示，他使用了electron作为用户程序界面，进而在知乎找到了一份关于界面开发的讨论：https://www.zhihu.com/question/264999651 个人总结就是：WPF适合目前Win桌面开发，嵌入式用Qt，Web前端就是Html5+JS。 而electron可以应对一些基础的应用，一般编译出来的程序体积较大及效率较低，主要面向前端开发者，深入定制对开发者要求较高。（我自己一直也这么认为的，所以一看到‘Thunder Scope’使用，我非常惊讶。但他代表了一种趋势，记得大概8年前我第一次接触Qt，发现这玩意编译出来的程序体积及内存占用远比我最初用的MFC高，当时就果断放弃了继续使用，一直用MFC，导致我做的界面总是好像上个世纪的产品，并且开发效率极低。而Qt这么多年的改进，明显感觉效率几经很高了，而且还是跨平台方案。只要该技术还在持续更新，那我觉得这些弊端是会得到改善的，只是现阶段我的评价还是暂时难堪大任。） 并没有发现桌面、Web、APP一体化的方案，实际上三种面对的终端界面存在一些差异，手机屏幕及操作方式和电脑是有些区别的。都需要做相应适配。 其实，我想寻找的是一种可以快速高效开发界面应用的环境，并且希望可以部署到不同平台。因为在现实的环境中我们确实需要一些简单的UI界面去帮助我们处理日常的工作，同时并不希望为此付出太多的时间。前段时间用excel做了一个界面：（如果不是逼上梁山，你是不会想到去用excel做自动化界面的，虽然功能捡漏，但却实现效率较高，类似的界面用MFC是不可想象的） 目前还是首选Qt和Html5(WebGL 与 canvas2D)；Java不太会，一直走的是C/C++路线。 关于WebGL 新安装的Qt7多了一个webassembly技术，web应用真是大行其道。 无论是那种技术，只是实现方式不同，对于程序本身而言核心都是一致的，只要达到目的就行。 我们知道electron可以将web转为桌面应用，那么这次接触到一个新的技术：CORDOVA CORDOVA 以下是Cordova的编译android的测试流程：其间也是道路坎坷 Cordova:可以将wed应用编译为安卓或IOS应用 本机环境 win10 64 x86 cordova -v 11.0.0 需要安装node.js: NPM 使用介绍:NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 #npm 的包安装分为本地安装（local）、全局安装（global）两种，从敲的命令行来看，差别只是有没有-g而已，比如 npm install express # 本地安装 npm install express -g # 全局安装 # npm install -g cordova / cnpm install -g cordova npm install -g cordova --registry=https://registry.npm.taobao.org #cnpm install -g cordova@8.1.2 // 安装指定版本 #新建一个 cordova 应用 cordova create learn-cordova cordova platform add android --save #cordova platform add ios --save cordova platform add browser --save cd learn-cordova cordova platform cordova run browser JDK:已安装 Android SDK 手动安装Android Studio: 注意SDK Manager路径如下： Could not find an installed version of Gradle either in Android Studio 环境变量设置 cd learn-cordova set ANDROID_SDK_ROOT=C:\\Users\\will\\AppData\\Local\\Android\\Sdk set PATH=%PATH%;C:\\Users\\will\\AppData\\Local\\Android\\Sdk\\platform-tools set PATH=%PATH%;C:\\Users\\will\\.gradle\\wrapper\\dists\\gradle-7.1.1-all\\1wqbeia0d49252rmlcr6o8lbl\\gradle-7.1.1\\bin cordova run android 软件只会提示指定’ANDROID_SDK_ROOT’变量的路径，另外两个也需要添加。 一开始提示gradle找不到，手动下载了一个，但实际Android Studio安装的时候一般默认已经安装了对应的版本，路径在’C:\\Users\\will.gradle&#39;，只要将环境变量设置上即可。 本身安装Android Studio是没有tools路径的，由于自己安装了Qt7，在Qt7环境配置安卓kit时也需要指定SDK路径，Qt7会在SDK目录产生一个tools的路径。 kotlin-compiler-embeddable kotlin-compiler-embeddable-1.5.21.jar 提示‘Can not Get ‘http….’’ 尽管使用了代理，但仍然很慢，下载失败。该文件需要手动下载去覆盖到对应的目录”C:\\Users\\will.gradle\\caches\\modules-2\\files-2.1\\org.jetbrains.kotlin\\kotlin-compiler-embeddable\\1.5.21\\b7d083256154ce255baa44547e3156505e18d29a” kotlin compiler embeddable下载慢 No installed build tools found. Install the Android build tools version 30.0.3 or higher. No installed build tools found. Install the Android build tools version 30.0 Script ‘G:\\prjs\\web\\cordova\\learn-cordova\\platforms\\android\\CordovaLib\\cordova.gradle’ line: 69 直接找到上面的文件以及对应行，手动指定了一个版本值，一定是你当前版本值加一。 关于这个问题官方的论坛：https://github.com/apache/cordova-android/issues/1391 找不到dx.bat和dx.jar 这里我是手动将相应目录原来名字叫d8.bat/d8.jar直接改成了dx.bat/dx.jar。就是死马当活马医，没想到改过来之后竟然可以。 至此环境就配置ok了， 那我们找个html5的应用试下： 将找到的html5应用拷到www文件夹下，将原来的删除或覆盖，重新执行： 1 2 cd learn-cordova cordova run android END 真是夸张，Sdk竟然耗费了我10个G空间，gradle耗费1.4G(后面还有增加的可能)，C盘已经快满了。又是不务正业的一篇。","headline":"Cordova","mainEntityOfPage":{"@type":"WebPage","@id":"https://timewh.github.io/posts/cordova/"},"url":"https://timewh.github.io/posts/cordova/"}</script><title>Cordova | TIME WH</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="TIME WH"><meta name="application-name" content="TIME WH"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://user-images.githubusercontent.com/35107934/142747938-44547743-cfd6-4b09-ac6d-afb73fce1c4d.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">TIME WH</a></div><div class="site-subtitle font-italic">Do you like, Do your self!</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/timewh" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/will75575009" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['15802169408','126.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Cordova</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Cordova</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> wu hou </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Thu, Mar 31, 2022, 12:00 AM +0800" >Mar 31<i class="unloaded">2022-03-31T00:00:00+08:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1389 words">7 min read</span></div></div><div class="post-content"><h2 id="前记">前记</h2><p>受到<a href="https://www.eetree.cn/project/detail/860">开源</a>工程<a href="https://github.com/EEVengers/ThunderScope">Thunder Scope</a>的启示，他使用了electron作为用户程序界面，进而在知乎找到了一份关于界面开发的讨论：https://www.zhihu.com/question/264999651</p><p>个人总结就是：WPF适合目前Win桌面开发，嵌入式用Qt，Web前端就是Html5+JS。</p><p>而electron可以应对一些基础的应用，一般编译出来的程序体积较大及效率较低，主要面向前端开发者，深入定制对开发者要求较高。（<a href="https://blog.csdn.net/u011329967/article/details/108414666?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164868641216780357244137%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&amp;request_id=164868641216780357244137&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-1-108414666.nonecase&amp;utm_term=electron&amp;spm=1018.2226.3001.4450">我自己一直也这么认为的</a>，所以一看到‘Thunder Scope’使用，我非常惊讶。但他代表了一种趋势，记得大概8年前我第一次接触Qt，发现这玩意编译出来的程序体积及内存占用远比我最初用的MFC高，当时就果断放弃了继续使用，一直用MFC，导致我做的界面总是好像上个世纪的产品，并且开发效率极低。而Qt这么多年的改进，明显感觉效率几经很高了，而且还是跨平台方案。只要该技术还在持续更新，那我觉得这些弊端是会得到改善的，只是现阶段我的评价还是暂时难堪大任。）</p><p>并没有发现桌面、Web、APP一体化的方案，实际上三种面对的终端界面存在一些差异，手机屏幕及操作方式和电脑是有些区别的。都需要做相应适配。</p><p>其实，我想寻找的是一种可以快速高效开发界面应用的环境，并且希望可以部署到不同平台。因为在现实的环境中我们确实需要一些简单的UI界面去帮助我们处理日常的工作，同时并不希望为此付出太多的时间。前段时间用excel做了一个界面：（如果不是逼上梁山，你是不会想到去用excel做自动化界面的，虽然功能捡漏，但却实现效率较高，类似的界面用MFC是不可想象的）</p><p>目前还是首选Qt和Html5(<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WebGL_API">WebGL</a> 与 canvas2D)；Java不太会，一直走的是C/C++路线。</p><p><a href="https://www.cnblogs.com/lhb25/p/20-webgl-demo-and-examples.html">关于WebGL</a></p><p>新安装的Qt7多了一个webassembly技术，web应用真是大行其道。</p><p>无论是那种技术，只是实现方式不同，对于程序本身而言核心都是一致的，只要达到目的就行。</p><p>我们知道electron可以将web转为桌面应用，那么这次接触到一个新的技术：CORDOVA</p><h2 id="cordova">CORDOVA</h2><p>以下是Cordova的编译android的测试流程：其间也是道路坎坷</p><p><a href="https://cordova.apache.org/">Cordova</a>:可以将wed应用编译为安卓或IOS应用</p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331070312092.png" alt="image-20220331070312092" /></p><h3 id="本机环境">本机环境</h3><p>win10 64 x86</p><h3 id="cordova--v--1100"><a href="https://www.jianshu.com/p/2e9bebb73d37">cordova</a> -v 11.0.0</h3><p>需要安装node.js:</p><p><a href="https://www.runoob.com/nodejs/nodejs-npm.html">NPM</a> 使用介绍:NPM是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题</p><div class="language-bat highlighter-rouge"><div class="code-header"> <span text-data=" Bat "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>#npm 的包安装分为本地安装（local）、全局安装（global）两种，从敲的命令行来看，差别只是有没有<span class="na">-g</span>而已，比如
<span class="kd">npm</span> <span class="kd">install</span> <span class="kd">express</span>          # 本地安装
<span class="kd">npm</span> <span class="kd">install</span> <span class="kd">express</span> <span class="na">-g   </span># 全局安装

#

<span class="kd">npm</span> <span class="kd">install</span> <span class="na">-g </span><span class="kd">cordova</span>  /  <span class="kd">cnpm</span> <span class="kd">install</span> <span class="na">-g </span><span class="kd">cordova</span> 
<span class="kd">npm</span> <span class="kd">install</span> <span class="na">-g </span><span class="kd">cordova</span> <span class="na">--registry</span><span class="o">=</span><span class="kd">https</span>://registry.npm.taobao.org
#cnpm <span class="kd">install</span> <span class="na">-g </span><span class="kd">cordova</span>@8.1.2 // 安装指定版本

#新建一个 <span class="kd">cordova</span> 应用
<span class="kd">cordova</span> <span class="kd">create</span> <span class="kd">learn</span><span class="na">-cordova


</span><span class="kd">cordova</span> <span class="kd">platform</span> <span class="kd">add</span> <span class="kd">android</span> <span class="na">--save
</span>#cordova <span class="kd">platform</span> <span class="kd">add</span> <span class="kd">ios</span> <span class="na">--save
</span><span class="kd">cordova</span> <span class="kd">platform</span> <span class="kd">add</span> <span class="kd">browser</span> <span class="na">--save


</span><span class="nb">cd</span> <span class="kd">learn</span><span class="na">-cordova
</span><span class="kd">cordova</span> <span class="kd">platform</span>
<span class="kd">cordova</span> <span class="nb">run</span> <span class="kd">browser</span>
</pre></table></code></div></div><p>JDK:已安装</p><h3 id="android-sdk"><a href="https://developer.android.com/studio">Android SDK</a></h3><p>手动安装<a href="https://www.androiddevtools.cn/">Android Studio</a>:</p><p>注意SDK Manager路径如下：</p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331080216416.png" alt="image-20220331080216416" /></p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331090512144.png" alt="image-20220331090512144" /></p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331090141163.png" alt="image-20220331090141163" /></p><h3 id="could-not-find-an-installed-version-of-gradle-either-in-android-studio">Could not find an installed version of Gradle either in Android Studio</h3><p><a href="https://developer.android.google.cn/studio/command-line/variables?hl=zh-cn">环境变量设置</a></p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331064924084.png" alt="image-20220331064924084" /></p><pre><code class="language-cmd">cd learn-cordova
set ANDROID_SDK_ROOT=C:\Users\will\AppData\Local\Android\Sdk
set PATH=%PATH%;C:\Users\will\AppData\Local\Android\Sdk\platform-tools
set PATH=%PATH%;C:\Users\will\.gradle\wrapper\dists\gradle-7.1.1-all\1wqbeia0d49252rmlcr6o8lbl\gradle-7.1.1\bin

cordova run android
</code></pre><p>软件只会提示指定’ANDROID_SDK_ROOT’变量的路径，另外两个也需要添加。</p><p>一开始提示gradle找不到，手动下载了一个，但实际Android Studio安装的时候一般默认已经安装了对应的版本，路径在’C:\Users\will.gradle'，只要将环境变量设置上即可。</p><p>本身安装Android Studio是没有tools路径的，由于自己安装了Qt7，在Qt7环境配置安卓kit时也需要指定SDK路径，Qt7会在SDK目录产生一个tools的路径。</p><h3 id="kotlin-compiler-embeddable">kotlin-compiler-embeddable</h3><p><a href="https://repo1.maven.org/maven2/org/jetbrains/kotlin/kotlin-compiler-embeddable/1.5.21/">kotlin-compiler-embeddable-1.5.21.jar</a></p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331065318832.png" alt="image-20220331065318832" /></p><p>提示‘Can not Get ‘http….’’ 尽管使用了代理，但仍然很慢，下载失败。该文件需要手动下载去覆盖到对应的目录”C:\Users\will.gradle\caches\modules-2\files-2.1\org.jetbrains.kotlin\kotlin-compiler-embeddable\1.5.21\b7d083256154ce255baa44547e3156505e18d29a”</p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331070030545.png" alt="image-20220331070030545" /></p><p><a href="https://blog.csdn.net/xiguoqiang321/article/details/111326460">kotlin compiler embeddable下载慢</a></p><h3 id="no-installed-build-tools-found-install-the-android-build-tools-version-3003-or-higher">No installed build tools found. Install the Android build tools version 30.0.3 or higher.</h3><p><a href="https://stackoverflow.com/questions/70145085/no-installed-build-tools-found-install-the-android-build-tools-version-30-0">No installed build tools found. Install the Android build tools version 30.0</a></p><p>Script ‘G:\prjs\web\cordova\learn-cordova\platforms\android\CordovaLib\cordova.gradle’ line: 69</p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331080642919.png" alt="image-20220331080642919" /></p><p>直接找到上面的文件以及对应行，手动指定了一个版本值，一定是你当前版本值加一。</p><p>关于这个问题官方的论坛：https://github.com/apache/cordova-android/issues/1391</p><h3 id="找不到dxbat和dxjar">找不到dx.bat和dx.jar</h3><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331080309594.png" alt="image-20220331080309594" /></p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331080328358.png" alt="image-20220331080328358" /></p><p>这里我是手动将相应目录原来名字叫d8.bat/d8.jar直接改成了dx.bat/dx.jar。就是死马当活马医，没想到改过来之后竟然可以。</p><p>至此环境就配置ok了，</p><p>那我们找个html5的应用试下：</p><p>将找到的html5应用拷到www文件夹下，将原来的删除或覆盖，重新执行：</p><div class="language-bat highlighter-rouge"><div class="code-header"> <span text-data=" Bat "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">cd</span> <span class="kd">learn</span><span class="na">-cordova
</span><span class="kd">cordova</span> <span class="nb">run</span> <span class="kd">android</span>
</pre></table></code></div></div><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331085629799.png" alt="image-20220331085629799" /></p><h2 id="end">END</h2><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331090803406.png" alt="image-20220331090803406" /></p><p><img data-proofer-ignore data-src="https://gitee.com/timeh/picgo/raw/master/img/image-20220331091243807.png" alt="image-20220331091243807" /></p><p>真是夸张，Sdk竟然耗费了我10个G空间，gradle耗费1.4G(后面还有增加的可能)，C盘已经快满了。又是不务正业的一篇。</p></div><div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Cordova - TIME WH&url=https://timewh.github.io/posts/cordova/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Cordova - TIME WH&u=https://timewh.github.io/posts/cordova/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Cordova - TIME WH&url=https://timewh.github.io/posts/cordova/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/test/">Test</a><li><a href="/posts/axi/">Axi</a><li><a href="/posts/Time-WH/">Time WH!</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/bee/">bee</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/test/"><div class="card-body"> <span class="timeago small" >Dec 12<i class="unloaded">2022-12-12T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Test</h3><div class="text-muted small"><p> just test 1 #this is the test,use the github repo for picgo.</p></div></div></a></div><div class="card"> <a href="/posts/bash/"><div class="card-body"> <span class="timeago small" >Jan 7<i class="unloaded">2022-01-07T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Bash</h3><div class="text-muted small"><p> merge for (( i=1 ; i&lt;21 ; i++ )) ; do cat ./js_sb${i}.txt &gt;&gt; ./js_gt${i}.txt; cat ./js_gt${i}.txt | sed '/^$/d' &gt; ./js_mcio${i}.txt; done ...</p></div></div></a></div><div class="card"> <a href="/posts/axi/"><div class="card-body"> <span class="timeago small" >Dec 24, 2021<i class="unloaded">2021-12-24T00:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Axi</h3><div class="text-muted small"><p> 1，axi width convert 比如32数据位宽转512数据位宽， 那么在32位宽端对0，4，8的写操作将变为 在512位宽端对地址0的strb写操作。（strb信号用来指示512bit即64字节在哪些位置的byte是有效的） 逻辑上理解可以无缝转换。 但实际对于4/8等地址的操作是无效的，只能0/64/128/… 32位宽端的busrt操作会被转化为51...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/bash/" class="btn btn-outline-primary" prompt="Older"><p>Bash</p></a> <a href="/posts/test/" class="btn btn-outline-primary" prompt="Newer"><p>Test</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/will75575009">wu hou</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/bee/">bee</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
